<app-navbar></app-navbar>

<div class="loader_bg" *ngIf="isLoading === true">
    <div class="loader"><img src="./assets/images/loading.gif" alt="#" /></div>
</div>


<section id="vehicles" class="vehicles" style="height: 70%;">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="titlepage">
                    <h2>Réparation véhicule</h2>
                    <br><label>{{carRep?.carMark}} {{carRep?.carModel}} {{carRep?.color}}</label><br>
                    <label>Matricule : {{carRep?.numberPlate}}</label>
                    <p>Progression global de la réparation <b>{{carRep?.globalProgress}}%</b></p>
                </div>
            </div>
        </div>
    </div>

    <table class="table align-middle mb-0 bg-white">
        <thead class="bg-light">
            <tr>
                <th>Avancement</th>
                <th>Problem</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody style="height: 400px !important;">
            <tr *ngFor="let pr of carRep.carProblem; let i=index">
                <td>
                    <p>{{pr.progress}}%</p>
                </td>
                <td>
                    <p class="fw-normal mb-1">{{pr.entitled}}</p>
                </td>
                <td>
                    <p *ngIf="pr.status === 'EnCours'">En cours</p>
                    <p *ngIf="pr.status === 'Terminer'">Terminer</p>
                </td>
            </tr>
        </tbody>
    </table>

</section>